!function(){function e(e,o,n){o.setPosition(n),o.setContent(e?"Error: El servicio de Geolocalizacion ha sido fallida.":"Error: Su navegador no soporta Geolocalizacion.")}var o=function(){function n(o,n){var t=document.getElementById("mode").value;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){pos={lat:e.coords.latitude,lng:e.coords.longitude},o.route({origin:{lat:pos.lat,lng:pos.lng},destination:{lat:i.lat,lng:i.lng},travelMode:google.maps.TravelMode[t]},function(e,o){"OK"==o?n.setDirections(e):window.alert("Peticion de indicaciones fallida, debido a: "+o)}),s.setPosition(pos),s.setContent("Usted está aquí"),l.setCenter(pos)},function(){e(!0,s,l.getCenter())}):e(!1,s,l.getCenter())}var t=new google.maps.DirectionsRenderer,a=new google.maps.DirectionsService,i={lat:19.342473,lng:-99.138634},l=new google.maps.Map(document.getElementById("map"),{zoom:17,center:i}),r=new google.maps.InfoWindow({content:"Terminal Central del Sur"}),g=new google.maps.Marker({position:i,map:l,icon:"../images/global/pin-tcs.png"});r.open(l,g),t.setMap(l),document.getElementById("mode").addEventListener("change",function(){"SELECT"==document.getElementById("mode").value?o():n(a,t)});var s=new google.maps.InfoWindow({map:l})};$(document).ready(function(){o()})}();