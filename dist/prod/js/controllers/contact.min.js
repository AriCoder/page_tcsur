!function(){function o(o,e,n){e.setPosition(n),e.setContent(o?"Error: El servicio de Geolocalizacion ha sido fallida.":"Error: Su navegador no soporta Geolocalizacion.")}var e=function(){function n(e,n){var t=document.getElementById("mode").value;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){pos={lat:o.coords.latitude,lng:o.coords.longitude},e.route({origin:{lat:pos.lat,lng:pos.lng},destination:{lat:i.lat,lng:i.lng},travelMode:google.maps.TravelMode[t]},function(o,e){"OK"==e?n.setDirections(o):window.alert("Peticion de indicaciones fallida, debido a: "+e)}),c.setPosition(pos),c.setContent("Usted está aquí"),l.setCenter(pos)},function(){o(!0,c,l.getCenter())}):o(!1,c,l.getCenter())}var t=new google.maps.DirectionsRenderer,a=new google.maps.DirectionsService,i={lat:19.342473,lng:-99.138634},l=new google.maps.Map(document.getElementById("map"),{zoom:17,center:i}),r=new google.maps.InfoWindow({content:"Terminal Central del Sur"}),s=new google.maps.Marker({position:i,map:l,icon:"https://raw.githubusercontent.com/CodyHouse/custom-google-map/master/img/cd-icon-location.png"});r.open(l,s),t.setMap(l),document.getElementById("mode").addEventListener("change",function(){"SELECT"==document.getElementById("mode").value?e():n(a,t)});var c=new google.maps.InfoWindow({map:l})};$(document).ready(function(){e()})}();